<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-3.4.1.min.js"></script>
<script src="/js/bootstrap.bundle.min.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    $("#languages").change(function () {
        var selectedOption = $('#languages').val();
        if (selectedOption != ''){
            window.location.replace('?lang=' + selectedOption);
        }
    });
});
</script>
</head>
<body>

<div th:replace="fragments/header :: header"></div>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <span th:text="#{lang.change}">Change</span>:
      <select id="languages">
        <option value=""></option>
        <option value="en" th:text="#{lang.eng}">en</option>
        <option value="fr" th:text="#{lang.fr}">fr</option>
        <option value="ja" th:text="#{lang.ja}">ja</option>
      </select>
      <p class="lead"><span th:text="#{greeting}">Hi</span></p>
      <table>
        <tr th:each="people: ${peoples}">
          <td th:text="${people.id}"/>
          <td><a href="" th:href="@{/people/update(id=${people.id})}" th:text="|${people.first} ${people.last}|"></a></td>
          <td><a href="" th:href="@{/people/delete(id=${people.id})}" class="button">Delete</a></td>
        </tr>
      </table>
    </div>
    <div class="col-sm-6">
      <div class='create-new'>
        <form action='/people/create' method='get'>
          <input class='main-button' type='submit' value='Create New'/>
        </form>
      </div>
    </div>
  </div>
</div>

</body>
</html>
